(this["webpackJsonpreact-game"]=this["webpackJsonpreact-game"]||[]).push([[0],{59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},63:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),c=n(19),i=n.n(c),a=(n(59),n(15)),o=(n(60),n(20)),u=n(21),l=n(26),j=n(24),h=n.p+"static/media/github.0e0ad9a5.svg",d=n.p+"static/media/rs_school_js.ae26ed3c.svg",b=(n(61),n(2)),v=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("footer",{className:"footer",children:[Object(b.jsx)("a",{href:"https://github.com/AlesyaKuptsova",target:"_blank",rel:"noreferrer noopener",children:Object(b.jsx)("img",{src:h,alt:"Alesia Kuptsova"})}),Object(b.jsx)("p",{children:"2021"}),Object(b.jsx)("a",{href:"https://rs.school/js/",target:"_blank",rel:"noreferrer noopener",children:Object(b.jsx)("img",{style:{width:80},src:d,alt:"RS school"})})]})}}]),n}(r.Component),O=n(45),m=n(34);function f(e){return Object(b.jsx)("button",{className:"square",onClick:e.onClick,children:e.value})}var x=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"renderSquare",value:function(e){var t=this;return Object(b.jsx)(f,{value:this.props.squares[e],onClick:function(){return t.props.onClick(e)}})}},{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"border-row",children:[this.renderSquare(0),this.renderSquare(1),this.renderSquare(2)]}),Object(b.jsxs)("div",{className:"border-row",children:[this.renderSquare(3),this.renderSquare(4),this.renderSquare(5)]}),Object(b.jsxs)("div",{className:"border-row",children:[this.renderSquare(6),this.renderSquare(7),this.renderSquare(8)]})]})}}]),n}(r.Component),p=(n(63),n(92)),y=n(93),g=n.p+"static/media/videogame.11aad1fb.mp3",k=n(88),S=n(91),C=n(90),N=n(94),w=n(36),q=n.n(w),T=n(37),P=n.n(T),K=new Audio(g),M=Object(k.a)({root:{width:200}});function _(){var e=M(),t=s.a.useState(30),n=Object(a.a)(t,2),r=n[0],c=n[1];return Object(b.jsxs)("div",{className:e.root,children:[Object(b.jsx)(C.a,{id:"continuous-slider",gutterBottom:!0,className:"music_volume",children:"Sound volume"}),Object(b.jsxs)(S.a,{container:!0,spacing:2,children:[Object(b.jsx)(S.a,{item:!0,children:Object(b.jsx)(q.a,{})}),Object(b.jsx)(S.a,{item:!0,xs:!0,children:Object(b.jsx)(N.a,{value:r,onChange:function(e,t){c(t),K.volume=t/100},"aria-labelledby":"continuous-slider"})}),Object(b.jsx)(S.a,{item:!0,children:Object(b.jsx)(P.a,{})})]})]})}var X={history:[{squares:Array(9).fill(null)}],stepNumber:0,winner:null,bots:[!1,!1]},A=function(e){var t,n=e.history,r=e.winner,s=e.onClick,c=e.stepNumber;r?t="The winner is ".concat(r," !"):t="Next player: "+(0===c%2?"X":"O");var i=n.length<=1||r?[]:n.map((function(e,t){var n="Move #"+t;n=c===t?Object(b.jsx)("b",{style:{margin:0},children:n}):n;var r=t?n:Object(b.jsx)(p.a,{children:"Game start"});return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{onClick:function(){return s(t)},children:[r," "]})},t)}));return Object(b.jsxs)("div",{className:"game",children:[Object(b.jsx)("div",{children:t}),Object(b.jsx)("div",{className:"game-history",children:i})]})},B=function(e){var t=e.idx,n=e.game,r="".concat(0===t?"X":"O"," is bot");return Object(b.jsxs)("div",{children:[Object(b.jsx)(y.a,{onChange:function(e){return n.setBot(t,e.target.checked)}}),r]})};function E(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],n=0;n<t.length;n++){var r=Object(a.a)(t[n],3),s=r[0],c=r[1],i=r[2];if(e[s]&&e[s]===e[c]&&e[s]===e[i])return e[s]}return null}function F(e,t){return E(e)===t}var G=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state=X,e.handleKeyPress=e.handleKeyPress.bind(Object(m.a)(e)),e}return Object(u.a)(n,[{key:"jumpTo",value:function(e){this.setState({stepNumber:e,winner:null})}},{key:"resetGame",value:function(){var e=this;this.setState(Object(O.a)({},X)),setTimeout((function(){e.handleStep()}))}},{key:"setPlayer",value:function(e){var t=this;this.setState({bots:"X"===e?[!1,!0]:[!0,!1]}),setTimeout((function(){t.handleStep()}))}},{key:"handleStep",value:function(){var e=this,t=this.state,n=t.stepNumber,r=t.history,s=t.bots;if(!t.winner){var c=n%2,i=r[r.length-1];if(s[c]){var a=0===c?"X":"O",o=0===c?"O":"X",u=function(e,t,n,r){function s(e,s,c){return F(e,r)?r===t?10-c:c-10:F(e,n)?n===t?10-c:c-10:0===s.length?0:null}function c(e,i,a){var o=function(e){return e.reduce((function(e,t,n){return t||e.push(n),e}),[])}(e),u=s(e,o,a);if(u)return u;var l=[],j=o.map((function(t,s){var o=i===n?r:n;e[t]=i;var u=c(e,o,a+1);return l.push(u),e[t]=null,t})),h=0;return h=i===t?l.reduce((function(e,t,n,r){return t>r[e]?n:e}),0):l.reduce((function(e,t,n,r){return t<r[e]?n:e}),0),0===a?j[h]:l[h]}return c(e,t,0)}(i.squares,a,o,a);setTimeout((function(){e.setMove(u)}))}}}},{key:"setBot",value:function(e,t){var n=this.state.bots;n[e]=t,this.setState({bots:n}),this.handleStep()}},{key:"setMove",value:function(e){var t=this,n=this.state,r=n.stepNumber,s=n.winner,c=this.state.history.slice(0,r+1),i=c[c.length-1].squares.slice();if(!s&&!i[e]){var a=0===r%2?"X":"0";i[e]=a;var o=i.some((function(e){return null===e})),u=E(i);u||o||(u="no one"),this.setState({history:c.concat([{squares:i}]),stepNumber:c.length,winner:u}),setTimeout((function(){t.handleStep()})),K.play(),K.currentTime=0}}},{key:"handleClick",value:function(e){this.state.winner||this.setMove(e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.history,r=t.stepNumber,s=t.winner,c=n[r],i=0===r%2?"X":"O";return Object(b.jsxs)("div",{className:"game",children:[Object(b.jsxs)("div",{className:"game-board",onKeyPress:this.handleKeyPress,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)(B,{idx:0,game:this}),Object(b.jsx)(B,{idx:1,game:this}),Object(b.jsx)(_,{})]}),Object(b.jsx)(x,{player:i,squares:c.squares,onClick:function(t){return e.handleClick(t)}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)(p.a,{onClick:function(){return e.resetGame()},children:"New Game"}),Object(b.jsx)(A,{stepNumber:r,player:i,history:n,winner:s,onClick:function(t){return e.jumpTo(t)}})]})]})}},{key:"handleKeyPress",value:function(e){if("."===e.key)this.resetGame();else{var t={1:6,2:7,3:8,4:3,5:4,6:5,7:0,8:1,9:2}[e.key];void 0!==t&&this.setMove(t)}}},{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}}]),n}(r.Component),L=n(42),I=n.n(L),D=n.p+"static/media/musicrockgame.be182ab7.mp3",J=n(43),R=n.n(J),W=n(44),z=n.n(W),H=(n(71),Object(k.a)({root:{width:350}})),Q=new Audio(D);function U(){var e=H(),t=s.a.useState(30),n=Object(a.a)(t,2),c=n[0],i=n[1],o=Object(r.useState)(!1),u=Object(a.a)(o,2),l=u[0],j=u[1];Object(r.useEffect)((function(){Q.load()}),[]),Object(r.useEffect)((function(){Q.loop=l}),[l]);return Object(b.jsxs)("div",{className:e.root,children:[Object(b.jsx)(C.a,{id:"continuous-slider",gutterBottom:!0,className:"music_volume",children:"Music volume"}),Object(b.jsxs)(S.a,{container:!0,spacing:2,children:[Object(b.jsxs)(S.a,{item:!0,children:[Object(b.jsx)(R.a,{value:"Play",onClick:function(){Q.currentTime=0,Q.play()},className:"music_play"}),Object(b.jsx)(q.a,{})]}),Object(b.jsx)(S.a,{item:!0,xs:!0,children:Object(b.jsx)(N.a,{value:c,onChange:function(e,t){i(t),Q.volume=t/100},"aria-labelledby":"continuous-slider"})}),Object(b.jsxs)(S.a,{item:!0,children:[Object(b.jsx)(P.a,{}),Object(b.jsx)(z.a,{value:"Stop",onClick:function(){Q.pause(),Q.currentTime=0},className:"music_stop"})]}),Object(b.jsxs)("label",{children:[Object(b.jsx)(y.a,{type:"checkbox",checked:l,onChange:function(e){return j(e.target.checked)}}),"Loop music"]})]})]})}var V=function(){var e=s.a.useState(),t=Object(a.a)(e,2),n=t[0],r=t[1],c=function(){r(!n)};return Object(b.jsx)(I.a,{children:function(e){var t=e.ref,r=e.onRequest,s=e.onExit;return Object(b.jsxs)("div",{className:"App",ref:t,style:{backgroundColor:"white"},children:[Object(b.jsx)(p.a,{onClick:c,children:n?"White color":"Ice cold color"}),Object(b.jsxs)("div",{className:n?"body-color":void 0,children:[Object(b.jsx)(U,{}),Object(b.jsx)(p.a,{onClick:function(){return r()},children:"Fullscreen"}),Object(b.jsx)(p.a,{onClick:function(){return s()},children:"FullscreenExit"}),Object(b.jsx)(G,{}),Object(b.jsx)(v,{})]})]})}})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,96)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),s(e),c(e),i(e)}))};i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(V,{})}),document.getElementById("root")),Y()}},[[72,1,2]]]);
//# sourceMappingURL=main.b24b2613.chunk.js.map